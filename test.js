// const con = [
//   {
//     total: 1,
//     weeks: [
//       {
//         w: 1678579200,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//       {
//         w: 1679184000,
//         a: 1,
//         d: 1,
//         c: 1,
//       },
//       {
//         w: 1679788800,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//     ],
//     author: {
//       login: "gilados",
//       id: 21241536,
//       node_id: "MDQ6VXNlcjIxMjQxNTM2",
//       avatar_url: "https://avatars.githubusercontent.com/u/21241536?v=4",
//       gravatar_id: "",
//       url: "https://api.github.com/users/gilados",
//       html_url: "https://github.com/gilados",
//       followers_url: "https://api.github.com/users/gilados/followers",
//       following_url:
//         "https://api.github.com/users/gilados/following{/other_user}",
//       gists_url: "https://api.github.com/users/gilados/gists{/gist_id}",
//       starred_url:
//         "https://api.github.com/users/gilados/starred{/owner}{/repo}",
//       subscriptions_url: "https://api.github.com/users/gilados/subscriptions",
//       organizations_url: "https://api.github.com/users/gilados/orgs",
//       repos_url: "https://api.github.com/users/gilados/repos",
//       events_url: "https://api.github.com/users/gilados/events{/privacy}",
//       received_events_url:
//         "https://api.github.com/users/gilados/received_events",
//       type: "User",
//       site_admin: false,
//     },
//   },
//   {
//     total: 1,
//     weeks: [
//       {
//         w: 1678579200,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//       {
//         w: 1679184000,
//         a: 93,
//         d: 48,
//         c: 1,
//       },
//       {
//         w: 1679788800,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//     ],
//     author: {
//       login: "itaim18",
//       id: 37772742,
//       node_id: "MDQ6VXNlcjM3NzcyNzQy",
//       avatar_url: "https://avatars.githubusercontent.com/u/37772742?v=4",
//       gravatar_id: "",
//       url: "https://api.github.com/users/itaim18",
//       html_url: "https://github.com/itaim18",
//       followers_url: "https://api.github.com/users/itaim18/followers",
//       following_url:
//         "https://api.github.com/users/itaim18/following{/other_user}",
//       gists_url: "https://api.github.com/users/itaim18/gists{/gist_id}",
//       starred_url:
//         "https://api.github.com/users/itaim18/starred{/owner}{/repo}",
//       subscriptions_url: "https://api.github.com/users/itaim18/subscriptions",
//       organizations_url: "https://api.github.com/users/itaim18/orgs",
//       repos_url: "https://api.github.com/users/itaim18/repos",
//       events_url: "https://api.github.com/users/itaim18/events{/privacy}",
//       received_events_url:
//         "https://api.github.com/users/itaim18/received_events",
//       type: "User",
//       site_admin: false,
//     },
//   },
//   {
//     total: 2,
//     weeks: [
//       {
//         w: 1678579200,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//       {
//         w: 1679184000,
//         a: 560,
//         d: 217,
//         c: 2,
//       },
//       {
//         w: 1679788800,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//     ],
//     author: {
//       login: "metalice",
//       id: 14824964,
//       node_id: "MDQ6VXNlcjE0ODI0OTY0",
//       avatar_url: "https://avatars.githubusercontent.com/u/14824964?v=4",
//       gravatar_id: "",
//       url: "https://api.github.com/users/metalice",
//       html_url: "https://github.com/metalice",
//       followers_url: "https://api.github.com/users/metalice/followers",
//       following_url:
//         "https://api.github.com/users/metalice/following{/other_user}",
//       gists_url: "https://api.github.com/users/metalice/gists{/gist_id}",
//       starred_url:
//         "https://api.github.com/users/metalice/starred{/owner}{/repo}",
//       subscriptions_url: "https://api.github.com/users/metalice/subscriptions",
//       organizations_url: "https://api.github.com/users/metalice/orgs",
//       repos_url: "https://api.github.com/users/metalice/repos",
//       events_url: "https://api.github.com/users/metalice/events{/privacy}",
//       received_events_url:
//         "https://api.github.com/users/metalice/received_events",
//       type: "User",
//       site_admin: false,
//     },
//   },
//   {
//     total: 9,
//     weeks: [
//       {
//         w: 1678579200,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//       {
//         w: 1679184000,
//         a: 238,
//         d: 150,
//         c: 9,
//       },
//       {
//         w: 1679788800,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//     ],
//     author: {
//       login: "ErezBiren",
//       id: 7828909,
//       node_id: "MDQ6VXNlcjc4Mjg5MDk=",
//       avatar_url: "https://avatars.githubusercontent.com/u/7828909?v=4",
//       gravatar_id: "",
//       url: "https://api.github.com/users/ErezBiren",
//       html_url: "https://github.com/ErezBiren",
//       followers_url: "https://api.github.com/users/ErezBiren/followers",
//       following_url:
//         "https://api.github.com/users/ErezBiren/following{/other_user}",
//       gists_url: "https://api.github.com/users/ErezBiren/gists{/gist_id}",
//       starred_url:
//         "https://api.github.com/users/ErezBiren/starred{/owner}{/repo}",
//       subscriptions_url: "https://api.github.com/users/ErezBiren/subscriptions",
//       organizations_url: "https://api.github.com/users/ErezBiren/orgs",
//       repos_url: "https://api.github.com/users/ErezBiren/repos",
//       events_url: "https://api.github.com/users/ErezBiren/events{/privacy}",
//       received_events_url:
//         "https://api.github.com/users/ErezBiren/received_events",
//       type: "User",
//       site_admin: false,
//     },
//   },
//   {
//     total: 11,
//     weeks: [
//       {
//         w: 1678579200,
//         a: 99,
//         d: 70,
//         c: 4,
//       },
//       {
//         w: 1679184000,
//         a: 433,
//         d: 120,
//         c: 7,
//       },
//       {
//         w: 1679788800,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//     ],
//     author: {
//       login: "develad",
//       id: 70572668,
//       node_id: "MDQ6VXNlcjcwNTcyNjY4",
//       avatar_url: "https://avatars.githubusercontent.com/u/70572668?v=4",
//       gravatar_id: "",
//       url: "https://api.github.com/users/develad",
//       html_url: "https://github.com/develad",
//       followers_url: "https://api.github.com/users/develad/followers",
//       following_url:
//         "https://api.github.com/users/develad/following{/other_user}",
//       gists_url: "https://api.github.com/users/develad/gists{/gist_id}",
//       starred_url:
//         "https://api.github.com/users/develad/starred{/owner}{/repo}",
//       subscriptions_url: "https://api.github.com/users/develad/subscriptions",
//       organizations_url: "https://api.github.com/users/develad/orgs",
//       repos_url: "https://api.github.com/users/develad/repos",
//       events_url: "https://api.github.com/users/develad/events{/privacy}",
//       received_events_url:
//         "https://api.github.com/users/develad/received_events",
//       type: "User",
//       site_admin: false,
//     },
//   },
//   {
//     total: 45,
//     weeks: [
//       {
//         w: 1678579200,
//         a: 2912,
//         d: 157,
//         c: 12,
//       },
//       {
//         w: 1679184000,
//         a: 844,
//         d: 487,
//         c: 33,
//       },
//       {
//         w: 1679788800,
//         a: 0,
//         d: 0,
//         c: 0,
//       },
//     ],
//     author: {
//       login: "noam-honig",
//       id: 16635859,
//       node_id: "MDQ6VXNlcjE2NjM1ODU5",
//       avatar_url: "https://avatars.githubusercontent.com/u/16635859?v=4",
//       gravatar_id: "",
//       url: "https://api.github.com/users/noam-honig",
//       html_url: "https://github.com/noam-honig",
//       followers_url: "https://api.github.com/users/noam-honig/followers",
//       following_url:
//         "https://api.github.com/users/noam-honig/following{/other_user}",
//       gists_url: "https://api.github.com/users/noam-honig/gists{/gist_id}",
//       starred_url:
//         "https://api.github.com/users/noam-honig/starred{/owner}{/repo}",
//       subscriptions_url:
//         "https://api.github.com/users/noam-honig/subscriptions",
//       organizations_url: "https://api.github.com/users/noam-honig/orgs",
//       repos_url: "https://api.github.com/users/noam-honig/repos",
//       events_url: "https://api.github.com/users/noam-honig/events{/privacy}",
//       received_events_url:
//         "https://api.github.com/users/noam-honig/received_events",
//       type: "User",
//       site_admin: false,
//     },
//   },
// ];

// const show = () => {
//   const reducedCon = con
//     .map((user) => ({
//       total: user.total,
//       user: user.author.login,
//       userGitPageUrl: user.author.html_url,
//       avatar: user.author.avatar_url,
//     }))
//     .reverse();
//   console.log(reducedCon);
//   console.log(reducedCon.length);
// };

// show();

const axios = require("axios").default;

let config = {
  method: "get",
  maxBodyLength: Infinity,
  url: "https://api.github.com/repos/noam-honig/wikiloc/stats/contributors",
  headers: {
    "X-GitHub-Api-Version": "2022-11-28",
    Accept: "application/vnd.github+json",
    Authorization: "Bearer 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",
  },
};

async function makeRequest() {
  try {
    const response = await axios.request(config);
    const reducedCon = response.data
      .map((user) => ({
        total: user.total,
        user: user.author.login,
        userGitPageUrl: user.author.html_url,
        avatar: user.author.avatar_url,
      }))
      .reverse();
    console.log(reducedCon);
    console.log(reducedCon.length);
  } catch (error) {
    console.log(error);
  }
}

makeRequest();
